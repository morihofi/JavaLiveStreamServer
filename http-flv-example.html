<html>
<head>
    <title>FlvTest</title>

</head>
<body>
    <h1>HTTP FLV TEST</h1>
    <video id="videoElement" height="720px" width="1280px"></video>
    <button onclick="goLoad()">Load and Play</button>

	<script src="https://bilibili.github.io/flv.js/dist/flv.js"></script>
	<script>
		var flvPlayer;
		function goLoad() {
			console.log("load click!");
			console.log("mse live support:" + flvjs.getFeatureList().mseLiveFlvPlayback);
			if (flvjs.isSupported()) {
				var videoElement = document.getElementById('videoElement');
				console.log("videoElement:" + videoElement);
				flvPlayer = flvjs.createPlayer({
					type: 'flv',
					isLive: true,
					url: "http://127.0.0.1:8080/stream/flv/live/stream.flv",
					duration: 0,
					filesize: 0,
					enableStashBuffer: false,
					hasAudio: true,
					hasVideo: true
				});
				flvPlayer.attachMediaElement(videoElement);
				flvPlayer.load();
				flvPlayer.play();

			}
		}
	</script>
</body>
</html>
